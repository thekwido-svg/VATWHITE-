        <!DOCTYPE html>
<html lang="sw">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VATWHITE - REAL TIME</title>
    <style>
        body { background: #000; color: #fff; font-family: sans-serif; margin: 0; text-align: center; }
        .top-bar { display: flex; justify-content: space-between; padding: 15px; background: #111; border-bottom: 2px solid #facc15; }
        .multiplier { font-size: 80px; color: #facc15; margin: 20px 0; font-weight: bold; }
        .stage { height: 250px; position: relative; background: radial-gradient(circle, #1a1a1a, #000); overflow: hidden; }
        .rocket { position: absolute; bottom: 10%; left: 10%; font-size: 50px; transition: 0.1s linear; }
        .bet-box { background: #151515; padding: 20px; position: fixed; bottom: 0; width: 100%; box-sizing: border-box; }
        #auth-screen { position: fixed; top:0; left:0; width:100%; height:100%; background: #000; z-index: 1000; padding-top: 50px; }
        input { background: #222; border: 1px solid #444; color: #fff; padding: 12px; margin: 5px; width: 80%; border-radius: 8px; }
        .btn { padding: 15px; border: none; border-radius: 10px; font-weight: bold; width: 80%; cursor: pointer; }
    </style>
</head>
<body>

    <div id="auth-screen">
        <h2 style="color:#facc15">VATWHITE REGISTRATION</h2>
        <input type="text" id="regName" placeholder="Jina Kamili">
        <input type="text" id="regPhone" placeholder="Namba ya MPESA (07...)">
        <button class="btn" style="background:#22c55e" onclick="register()">ANZA KUCHEZA</button>
    </div>

    <div class="top-bar">
        <span id="uName">VATWHITE</span>
        <span>KES <b id="bal">0.00</b></span>
    </div>

    <div class="multiplier" id="m-display">1.00x</div>
    <div class="stage">
        <div class="rocket" id="rocket">ðŸš€</div>
    </div>

    <div style="font-size: 12px; color: #888; padding: 10px;" id="live-players">
        Wanaocheza sasa: Juma, Otieno, Kamau, Mutua, Sarah...
    </div>

    <div class="bet-box">
        <button class="btn" id="betB" style="background:#22c55e" onclick="placeBet()">BET</button>
        <button class="btn" id="cashB" style="background:#facc15; color:#000; display:none;" onclick="cashOut()">CASH OUT</button>
        <p style="font-size: 10px; margin-top:10px;">Deposit via MPESA: 0702170114</p>
    </div>

    <audio id="s-tick" src="https://www.soundjay.com/buttons/sounds/button-50.mp3"></audio>

    <script>
        let userName = "";
        function register() {
            userName = document.getElementById('regName').value;
            if(userName) {
                document.getElementById('auth-screen').style.display = 'none';
                document.getElementById('uName').innerText = userName;
                startSync();
            }
        }

        function startSync() {
            setInterval(async () => {
                const res = await fetch('/game-state');
                const data = await res.json();
                
                const mDisplay = document.getElementById('m-display');
                const rocket = document.getElementById('rocket');

                if (data.isCrashed) {
                    mDisplay.style.color = "red";
                    mDisplay.innerText = "FLEW AWAY!";
                    rocket.style.left = "10%"; rocket.style.bottom = "10%";
                } else {
                    mDisplay.style.color = "#facc15";
                    mDisplay.innerText = data.multiplier + "x";
                    document.getElementById('s-tick').play().catch(()=>{});
                    
                    // Ndege kusonga kulingana na namba ya server
                    let val = parseFloat(data.multiplier);
                    rocket.style.left = (10 + (val * 3)) + "%";
                    rocket.style.bottom = (10 + (val * 5)) + "%";
                }
            }, 100);
        }
    </script>
</body>
</html>
