<div class="section">
    <h3>Search Mchezaji</h3>
    <input type="text" id="search-input" onkeyup="searchUser()" placeholder="Andika jina au namba...">
    <table id="search-results">
        </table>
</div>

<script>
    async function searchUser() {
        const term = document.getElementById('search-input').value;
        if(term.length < 2) return;
        const res = await fetch(`/admin/search?term=${term}`);
        const users = await res.json();
        document.getElementById('search-results').innerHTML = users.map(u => `
            <tr>
                <td>${u.name}</td>
                <td>${u.phone}</td>
                <td>${u.balance}</td>
                <td><button onclick="topUp('${u.phone}')">ADD CASH</button></td>
            </tr>
        `).join('');
    }
</script>
